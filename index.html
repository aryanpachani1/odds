<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Market Intelligence Dashboard</title>

<style>
body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background: #0b0f14;
    color: #eaeaea;
}
header {
    background: #111822;
    padding: 15px 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
header h1 {
    font-size: 1.4rem;
    color: #00e6e6;
}
.dashboard {
    padding: 25px;
    max-width: 1100px;
    margin: auto;
}
.market {
    background: #151c27;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 20px;
}
.market h2 {
    margin-bottom: 15px;
    color: #00e6e6;
}
.runners {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 15px;
}
.runner {
    background: #0f1622;
    border-radius: 10px;
    padding: 15px;
}
.runner h3 {
    margin-bottom: 10px;
}
.odds-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}
.back {
    background: #1e90ff;
    color: #000;
    padding: 12px;
    border-radius: 8px;
    text-align: center;
}
.lay {
    background: #ff5c5c;
    color: #000;
    padding: 12px;
    border-radius: 8px;
    text-align: center;
}
.label {
    font-size: 0.75rem;
    opacity: 0.8;
}
.value {
    font-size: 1.3rem;
    font-weight: bold;
}
.info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}
.card {
    background: #151c27;
    border-radius: 10px;
    padding: 15px;
}
.card h4 {
    color: #00e6e6;
    margin-bottom: 8px;
}
footer {
    text-align: center;
    padding: 20px;
    font-size: 0.8rem;
    opacity: 0.6;
}
</style>
</head>

<body>

<header>
    <h1>Market Intelligence Dashboard</h1>
    <div>User: Demo | Plan: Trial</div>
</header>

<div class="dashboard">

    <div class="market">
        <h2>Match Odds</h2>

        <div class="runners">

            <!-- TEAM 1 -->
            <div class="runner">
                <h3 id="team1">Team A</h3>
                <div class="odds-grid">
                    <div class="back">
                        <div class="label">BACK</div>
                        <div class="value" id="t1back">--</div>
                    </div>
                    <div class="lay">
                        <div class="label">LAY</div>
                        <div class="value" id="t1lay">--</div>
                    </div>
                </div>
            </div>

            <!-- TEAM 2 -->
            <div class="runner">
                <h3 id="team2">Team B</h3>
                <div class="odds-grid">
                    <div class="back">
                        <div class="label">BACK</div>
                        <div class="value" id="t2back">--</div>
                    </div>
                    <div class="lay">
                        <div class="label">LAY</div>
                        <div class="value" id="t2lay">--</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="info">
        <div class="card">
            <h4>Matched Volume</h4>
            <div id="volume">--</div>
        </div>
        <div class="card">
            <h4>Market Psychology</h4>
            <div id="psychology">--%</div>
        </div>
        <div class="card">
            <h4>Load Signal</h4>
            <div id="load">--</div>
        </div>
    </div>

</div>

<footer>
Independent analytical tool. No betting, no guarantees.
</footer>

<script>
// AUTO REFRESH â€“ API READY
async function fetchMarket() {

    /*
    REAL API VERSION:
    const res = await fetch("/api/market-data");
    const data = await res.json();
    */

    // DEMO DATA
    const data = {
        team1: "Team A",
        team2: "Team B",
        t1back: (Math.random() * (2.2 - 1.5) + 1.5).toFixed(2),
        t1lay: (Math.random() * (2.3 - 1.6) + 1.6).toFixed(2),
        t2back: (Math.random() * (3.8 - 2.0) + 2.0).toFixed(2),
        t2lay: (Math.random() * (3.9 - 2.1) + 2.1).toFixed(2),
        volume: Math.floor(Math.random() * 600000) + 200000
    };

    // LOAD LOGIC (Simplified but real-style)
    let spread1 = data.t1lay - data.t1back;
    let spread2 = data.t2lay - data.t2back;
    let psychology = Math.min(100, Math.floor((data.volume / 800000) * 100));

    let loadSignal =
        spread1 < spread2 ? "Pressure on " + data.team1 :
        "Pressure on " + data.team2;

    // UPDATE UI
    document.getElementById("team1").innerText = data.team1;
    document.getElementById("team2").innerText = data.team2;
    document.getElementById("t1back").innerText = data.t1back;
    document.getElementById("t1lay").innerText = data.t1lay;
    document.getElementById("t2back").innerText = data.t2back;
    document.getElementById("t2lay").innerText = data.t2lay;
    document.getElementById("volume").innerText = data.volume.toLocaleString();
    document.getElementById("psychology").innerText = psychology;
    document.getElementById("load").innerText = loadSignal;
}

fetchMarket();
setInterval(fetchMarket, 5000);
</script>

</body>
</html>
